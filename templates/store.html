{% extends 'main.html' %}
{% load static %}
{% block content %}
	<div id="wrapper" class="row">

	</div>





    <script type="text/javascript">
        renderProducts()
        function renderProducts() {
        var url = 'http://127.0.0.1:8000/products'
		var wrapper = document.getElementById('wrapper')
        fetch(url)
			.then((resp) => resp.json())
			.then(function(data){
				console.log('Data:', data)

				var list = data
				for (var i in list) {
					var item = `
					<div class="col-lg-4">
						<img class="thumbnail" src="{% static 'images/placeholder.png' %}">
						<div id="data-row-${i}" class="box-element product">
							<h6><strong>${list[i].product_name}</strong></h6>
							<hr>

							<button data-product="{{product.id}}" data-action="add" class="btn btn-outline-secondary add-btn update-cart">Add to Cart</button>
							<a class="btn btn-outline-success" href="#">View</a>
							<h4 style="display: inline-block; float: right"><strong>${list[i].price}$</strong></h4>
						</div>
					</div>
					`

					wrapper.innerHTML += item
				}
            })
    	}
    </script>
{% endblock content %}